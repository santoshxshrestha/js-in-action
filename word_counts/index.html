<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
</head>

<body>
    <div class="container">
        <h1>typer -word counts</h1>
        <p id="para"></p>
        <textarea name="typing" id="typing" placeholder="start typing ">
        </textarea>

        <div class="timing">
            <strong> Time: </strong>
            <span id="time"></span>
        </div>

        <div class="accuracy">
            <strong>Accuracy: </strong>
            <span id="accuracy">0 <span>%</span></span>
        </div>

        <div class="wordsperMin">
            <strong> word per min: </strong>
            <span id="wordPerMin">0<span>WPM</span></span>
        </div>

        <button>Start typing....</button>
    </div>
    <script>
        let para = [
            "hello there this is some content to show out there for the game",
            "this is the another  line here out there ",
            "lol got another line and this is the last line of this para ",
        ];

        let quoteNow = " ";
        let startTime;

        function startTyping() {
            const paragraph = document.getElementById("para");
            const input = document.getElementById("typing");
            const time = document.getElementById("time");
            const accuracy = document.getElementById("accuracy");
            const wordPerMin = document.getElementById("wordPerMin");

            input.value = "";
            time.textContent = 0;
            accuracy.textContent = 0;
            wordPerMin.textContent = 0;

            startTime = new Date();

            input.disable = false;
            input.focus();

            input.oninput = function () {
                const timeEsti = (new Date() - startTime) / 1000;
                time.textContent = timeEsti.toFixed(1);

                const typed = input.value;
                const wordsTyped = tpyed.trim().split(/\s+/).length;

                const wrdPM = (wordsTyped / timeEsti) * 60;
                wordPerMin.textContent = isNaN(wordPM) ? 0 : Math.round(wordPM);

                let correct = 0;
                for (let i = 0; i < typed.length; i++) {
                    if (typed[i] === quoteNow[i]) {
                        correct++;
                    }
                }

                const accuracy = (correct / quoteNow.length) * 1000;
                accuracy.textContent = isNaN(accuracy) ? 0 : Math.round(accuracy);
            };

            quoteNow = para[math.floor(math.radom() * para.length)];
            paragraph.textContent = quoteNow;
        }
    </script>
</body>

</html>
